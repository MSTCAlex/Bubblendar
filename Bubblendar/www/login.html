<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <!--
        Customize the content security policy in the meta tag below as needed. Add 'unsafe-inline' to default-src to enable inline JavaScript.
        For details, see http://go.microsoft.com/fwlink/?LinkID=617521
    -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *">
    <title>Login</title>
    <script src="cordova.js"></script>
    <script src="scripts/platformOverrides.js"></script>
    <script src="scripts/parse-1.6.7.min.js"></script>
    <script src="scripts/sessionManager.js"></script>
    <script src="scripts/opTask.js"></script>
    <script src="scripts/backBone.js"></script>
    <script>
        function onLoad() {
            startSession(); // Init sessionManager
        };
        function loginClicked() {            
            var lgtask = new opTask(1, 1, lgfinished);
            lgtask.userinfo = {
                username: login_username.value,
                password: login_password.value,                
            };
            HandleBaseTask(lgtask);
            function lgfinished(success) {
                if (success) {

                }
                else {
                    // TODO: Error handling
                    lgtask.errors;
                }
            };
        };

        function signupClicked()
        {
            window.location="signup.html";
        };
    </script>
</head>
<body onload="onLoad()">   
    <div>
        <input type="text" id="login_username"/>
        <input type="password" id="login_password"/>
        <br />
        <button name="loginBtn" onclick="loginClicked()">Login</button>
        <button name="signupBtn" onclick="signupClicked()">Signup!</button>
    </div>
</body>
</html>